<!--
title: docker
description: docker的使用（linux）
published: true
date: 2022-05-07T11:33:50.750Z
tags: 
editor: ckeditor
dateCreated: 2022-05-07T11:33:49.182Z
-->

<h1>安装docker，本机环境：CentOS8</h1>
<p>参考：https://docs.docker.com/engine/install/centos/</p>
<p>1、删除旧版本</p>
<pre><code class="language-plaintext">yum remove docker \
            docker-client \
            docker-client-latest \
            docker-common \
            docker-latest \
            docker-latest-logrotate \
            docker-logrotate \
            docker-engine</code></pre>
<p>2、安装软件包（提供实用程序）并设置稳定存储库。</p>
<pre><code class="language-plaintext">yum install -y yum-utils
yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo</code></pre>
<p>3、安装最新版本的 Docker 引擎、容器化和 Docker Compose</p>
<pre><code class="language-plaintext">yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin</code></pre>
<p>4、启动 Docker。</p>
<pre><code class="language-plaintext">systemctl start docker</code></pre>
<h1>常用命令</h1>
<p>参考：<a href="https://www.runoob.com/docker/docker-command-manual.html">Docker 命令大全 | 菜鸟教程 (runoob.com)</a></p>
<pre><code class="language-plaintext">// 拉取镜像
docker pull
// 查看镜像
docker images
// 启动容器
docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
// 在容器 mynginx 中以交互模式执行容器内 /root/runoob.sh 脚本
docker exec -it mynginx /bin/sh</code></pre>
<h1>安装docker-compose</h1>
<p>参考：https://blog.csdn.net/AlexanderRon/article/details/123412922</p>
<p>1、从git上拉取docker-compose，注意：这里版本我安装的是<code>1.28.2</code>，如果需要安装对应某个版本请更改。</p>
<pre><code class="language-plaintext">sudo curl -L "https://github.com/docker/compose/releases/download/1.28.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
</code></pre>
<p>2、授权docker-compose</p>
<pre><code class="language-plaintext">sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
</code></pre>
<p>3、建立软连接</p>
<pre><code class="language-plaintext">sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</code></pre>
<p>4、测试</p>
<pre><code class="language-plaintext">docker-compose --version</code></pre>
